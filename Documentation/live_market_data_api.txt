Market Quote
This API gives you snapshots of multiple instruments at once. You can fetch LTP, Quote or Market Depth of instruments via API which sends real time data at the time of API request.

POST	/marketfeed/ltp	Get ticker data of instruments
POST	/marketfeed/ohlc	Get OHLC data of instruments
POST	/marketfeed/quote	Get market depth data of instruments
Info
You can fetch upto 1000 instruments in single API request with rate limit of 1 request per second.

Ticker Data

Retrieve LTP for list of instruments with single API request


    curl --request POST \
    --url https://api.dhan.co/v2/marketfeed/ltp \
    --header 'Accept: application/json' \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --header 'client-id: 1000000001' \
    --data '{}'

Header

Header	Description
access-token
required	Access Token generated via Dhan
client-id
required	User specific identification generated by Dhan
Request Structure


    {
    "NSE_EQ":[11536],
    "NSE_FNO":[49081,49082]
    }

Parameters

Field	Field Type	Description
Exchange Segment ENUM
required	array	Security ID - can be found here

Response Structure


{
    "data": {
        "NSE_EQ": {
            "11536": {
                "last_price": 4520
            }
        },
        "NSE_FNO": {
            "49081": {
                "last_price": 368.15
            },
            "49082": {
                "last_price": 694.35
            }
        }
    },
    "status": "success"
}
Parameters

Field	Type	Description
last_price	float	LTP of the Instrument
OHLC Data

Retrieve the Open, High, Low and Close price along with LTP for specified list of instruments.


    curl --request POST \
    --url https://api.dhan.co/v2/marketfeed/ohlc \
    --header 'Accept: application/json' \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --header 'client-id: 1000000001' \
    --data '{}'

Header

Header	Description
access-token
required	Access Token generated via Dhan
client-id
required	User specific identification generated by Dhan
Request Structure


    {
    "NSE_EQ":[11536],
    "NSE_FNO":[49081,49082]
    }

Parameters

Field	Field Type	Description
Exchange Segment ENUM
required	array	Security ID - can be found here

Response Structure


{
    "data": {
        "NSE_EQ": {
            "11536": {
                "last_price": 4525.55,
                "ohlc": {
                    "open": 4521.45,
                    "close": 4507.85,
                    "high": 4530,
                    "low": 4500
                }
            }
        },
        "NSE_FNO": {
            "49081": {
                "last_price": 368.15,
                "ohlc": {
                    "open": 0,
                    "close": 368.15,
                    "high": 0,
                    "low": 0
                }
            },
            "49082": {
                "last_price": 694.35,
                "ohlc": {
                    "open": 0,
                    "close": 694.35,
                    "high": 0,
                    "low": 0
                }
            }
        }
    },
    "status": "success"
}
Parameters

Field	Type	Description
last_price	float	LTP of the Instrument
ohlc.open	float	Market opening price of the day
ohlc.close	float	Market closing price of the day
ohlc.high	float	Day High price
ohlc.low	float	Day Low price
Market Depth Data

Retrieve full details including market depth, OHLC data, Open Interest and Volume along with LTP for specified instruments.


    curl --request POST \
    --url https://api.dhan.co/v2/marketfeed/quote \
    --header 'Accept: application/json' \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --header 'client-id: 1000000001' \
    --data '{}'

Header

Header	Description
access-token
required	Access Token generated via Dhan
client-id
required	User specific identification generated by Dhan
Request Structure


    {   
        "NSE_FNO":[49081]
    }

Parameters


cURL
Field	Field Type	Description
Exchange Segment ENUM
required	array	Security ID - can be found here


Response Structure


{
    "data": {
        "NSE_FNO": {
            "49081": {
                "average_price": 0,
                "buy_quantity": 1825,
                "depth": {
                    "buy": [
                        {
                            "quantity": 1800,
                            "orders": 1,
                            "price": 77
                        },
                        {
                            "quantity": 25,
                            "orders": 1,
                            "price": 50
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        }
                    ],
                    "sell": [
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        },
                        {
                            "quantity": 0,
                            "orders": 0,
                            "price": 0
                        }
                    ]
                },
                "last_price": 368.15,
                "last_quantity": 0,
                "last_trade_time": "01/01/1980 00:00:00",
                "lower_circuit_limit": 48.25,
                "net_change": 0,
                "ohlc": {
                    "open": 0,
                    "close": 368.15,
                    "high": 0,
                    "low": 0
                },
                "oi": 0,
                "oi_day_high": 0,
                "oi_day_low": 0,
                "sell_quantity": 0,
                "upper_circuit_limit": 510.85,
                "volume": 0
            }
        }
    },
    "status": "success"
}
Parameters

Field	Type	Description
average_price	float	Volume weighted average price of the day
buy_quantity	int	Total buy order quantity pending at the exchange
sell_quantity	int	Total sell order quantity pending at the exchange
depth.buy.quantity	int	Number of quantity at this price depth
depth.buy.orders	int	Number of open BUY orders at this price depth
depth.buy.price	float	Price at which the BUY depth stands
depth.sell.quantity	int	Number of quantity at this price depth
depth.sell.orders	int	Number of open SELL orders at this price depth
depth.sell.price	float	Price at which the SELL depth stands
last_price	float	Last traded price
last_quantity	int	Last traded quantity
last_trade_time	string	Last traded quantity
lower_circuit_limit	float	Current lower circuit limit
upper_circuit_limit	float	Current upper circuit limit
net_change	float	Absolute change in LTP from previous day closing price
volume	int	Total traded volume for the day
oi	int	Open Interest in the contract (for Derivatives)
oi_day_high	int	Highest Open Interest for the day (only for NSE_FNO)
oi_day_low	int	Lowest Open Interest for the day (only for NSE_FNO)
ohlc.open	float	Market opening price of the day
ohlc.close	float	Market closing price of the day
ohlc.high	float	Day High price
ohlc.low	float	Day Low price

Live Market Feed
Real-time Market Data across exchanges and segments can now be availed on your system via WebSocket. WebSocket provides an efficient means to receive live market data. WebSocket keeps a persistent connection open, allowing the server to push real-time data to your systems.

All Dhan platforms work on these same market feed WebSocket connections that deliver lightning fast market data to you. Do note that this is tick-by-tick event based data that is sent over the websocket.

You can establish upto five WebSocket connections per user with 5000 instruments on each connection.
All request messages over WebSocket are in JSON whereas all response messages over WebSocket are in Binary. You will require WebSocket library in any programming language to be able to use Live Market Feed along with Binary converter.

Using DhanHQ Libraries for WebSockets
Establishing Connection

To establish connection with DhanHQ WebSocket for Market Feed, you can to the below endpoint using WebSocket library.



wss://api-feed.dhan.co?version=2&token=eyxxxxx&clientId=100xxxxxxx&authType=2

Query Parameters

Field	Description
version
required	2 for DhanHQ v2
token
required	Access Token generated via Dhan
clientId
required	User specific identification generated by Dhan
authType
required	2 by Default
Adding Instruments

You can subscribe upto 5000 instruments in a single connection and receive market data packets. For subscribing, this can be done using JSON message which needs to be send over WebSocket connection.

Note
You can only send upto 100 instruments in a single JSON message. You can send multiple messages over a single connection to subscribe to all instruments and receive data.

Request Structure


{
    "RequestCode" : 15,
    "InstrumentCount" : 2,
    "InstrumentList" : [
        {
            "ExchangeSegment" : "NSE_EQ",
            "SecurityId" : "1333"
        },
        {
            "ExchangeSegment" : "BSE_EQ",
            "SecurityId" : "532540"
        }
    ]
}

Parameters

Field	Type	Description
RequestCode
required	int	Code for subscribing to particular data mode.
Refer to feed request code to subscribe to required data mode
InstrumentCount
required	int	No. of instruments to subscribe from this request
InstrumentList.ExchangeSegment
required	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
InstrumentList.SecurityId
required	string	Exchange standard ID for each scrip. Refer here
Keeping Connection Alive

To keep the WebSocket connection alive and prevent it from closing, the server side uses Ping-Pong module. Server side sends ping every 10 seconds to the client server (in this case, your system) to maintain WebSocket status as open.

An automated pong is sent by websocket library. You can use the same as response to the ping.

In case the client server does not respond for more than 40 seconds, the connection is closed from server side and you will have to reestablish connection.
Market Data

The market feed data is sent as structured binary packet which is shared at super fast speed.

DhanHQ Live Market Feed is real-time data and there are three modes in which you can receive the data, depending on your use case:

Ticker Data
Quote Data
Full Data
Subscribing Instruments

Binary Response

Binary messages consist of sequences of bytes that represent the data. This contrasts with text messages, which use character encoding (e.g., UTF-8) to represent data in a readable format. Binary messages require parsing to extract the relevant information.

The reason for us to choose binary messages over text or JSON is to have compactness, speed and flexibility on data to be shared at lightning fast speed.

All responses from Dhan Market Feed consists of Response Header and Payload. Header for every response message remains the same with different feed response code, while the payload can be different.

Endianness
Endianness determines the order in which bytes are arranged for multi-byte data (like integers and floats).

Types:
- Little Endian: Least significant byte first (0x78, 0x56, 0x34, 0x12)
- Big Endian: Most significant byte first (0x12, 0x34, 0x56, 0x78)

The data on DhanHQ Websockets are sent in Little Endian. In case your system is Big Endian, you will have to define endianness while reading the websocket.

Response Header

The response header message is of 8 bytes which will remain same as part of all the response messages. The message structure is given as below.

Bytes	Type	Size	Description
1	[ ] byte	1	Feed Response Code can be referred in Annexure
2-3	int16	2	Message Length of the entire payload packet
4	[ ] byte	1	Exchange Segment can be referred in Annexure
5-8	int32	4	Security ID - can be found here
Ticker Packet

This packet consists of Last Traded Price (LTP) and Last Traded Time (LTT) data across segments.

Bytes	Type	Size	Description
0-8	[ ] array	8	Response Header with code 2
Refer to enum for values
9-12	float32	4	Last Traded Price of the subscribed instrument
13-16	int32	4	Last Trade Time (EPOCH)
Prev Close
Whenever any instrument is subscribed for any data packet, we also send this packet which has Previous Day data to make it easier for day on day comparison.

Bytes	Type	Size	Description
0-8	[ ] array	8	Response Header with code 6
Refer to enum for values
9-12	float32	4	Previous day closing price
13-16	int32	4	Open Interest - previous day
Quote Packet

This data packet is for all instruments across segments and exchanges which consists of complete trade data, along with Last Trade Price (LTP) and other information like update time and quantity.

Bytes	Type	Size	Description
0-8	[ ] array	8	Response Header with code 4
Refer to enum for values
9-12	float32	4	Latest Traded Price of the subscribed instrument
13-14	int16	2	Last Traded Quantity
15-18	int32	4	Last Trade Time (LTT) - EPOCH
19-22	float32	4	Average Trade Price (ATP)
23-26	int32	4	Volume
27-30	int32	4	Total Sell Quantity
31-34	int32	4	Total Buy Quantity
35-38	float32	4	Day Open Value
39-42	float32	4	Day Close Value - only sent post market close
43-46	float32	4	Day High Value
47-50	float32	4	Day Low Value
OI Data
Whenever you subscribe to Quote Data, you also receive Open Interest (OI) data packets which is important for Derivative Contracts.

Bytes	Type	Size	Description
0-8	[ ] array	8	Response Header with code 5
Refer to enum for values
9-12	int32	4	Open Interest of the contract
Full Packet

This data packet is for all instruments across segments and exchanges which consists of complete trade data along with Market Depth and OI data in a single packet.

Bytes	Type	Size	Description
0-8	[ ] array	8	Response Header with code 8
Refer to enum for values
9-12	float32	4	Latest Traded Price of the subscribed instrument
13-14	int16	2	Last Traded Quantity
15-18	int32	4	Last Trade Time (LTT) - EPOCH
19-22	float32	4	Average Trade Price (ATP)
23-26	int32	4	Volume
27-30	int32	4	Total Sell Quantity
31-34	int32	4	Total Buy Quantity
35-38	int32	4	Open Interest in the contract (for Derivatives)
39-42	int32	4	Highest Open Interest for the da (only for NSE_FNO)
43-46	int32	4	Lowest Open Interest for the day (only for NSE_FNO)
47-50	float32	4	Day Open Value
51-54	float32	4	Day Close Value - only sent post market close
55-58	float32	4	Day High Value
59-62	float32	4	Day Low Value
63-162	Market Depth Structure	100	5 packets of 20 bytes each for each instrument in below provided structure
Each of these 5 packets will be received in the following packet structure:

Bytes	Type	Size	Description
1-4	int32	4	Bid Quantity
5-8	int32	4	Ask Quantity
9-10	int16	2	No. of Bid Orders
11-12	int16	2	No. of Ask Orders
13-16	float32	4	Bid Price
17-20	float32	4	Ask Price


Feed Disconnect

If you want to disconnect WebSocket, you can send below JSON request message via the connection.


{
    "RequestCode" : 12
}
In case of WebSocket disconnection from server side, you will receive disconnection packet, which will have disconnection reason code.

If more than 5 websockets are established, then the first socket will be disconnected with 805 with every additional connection.


Bytes	Type	Size	Description
0-8	[ ] array	8	Response Header with code 50
Refer to enum for values
9-10	int16	2	Disconnection message code - here


Full Market Depth
Level 3 data includes market depth upto 20 levels. We are extending beyond and adding 200 level data. This shows complete picture of the market movements and it is streamed real-time via websockets.

This data can be used to detect demand supply zones, outside of 5 level market depth and build trading systems to detect market movements.

Only NSE Equity and Derivatives segments are enabled for Full Market Depth.
Similar to Live Market Feed, all request messages over WebSocket are in JSON whereas all response messages over WebSocket are in Binary.

Establishing Connection

20 Level

To establish connection with DhanHQ WebSocket for 20 Level Market Depth, you can connect to the below endpoint using WebSocket library.


wss://depth-api-feed.dhan.co/twentydepth?token=eyxxxxx&clientId=100xxxxxxx&authType=2
200 Level

To establish connection with DhanHQ WebSocket for 200 Level Market Depth, you can connect to the below endpoint using WebSocket library.


wss://full-depth-api.dhan.co/twohundreddepth?token=eyxxxxx&clientId=100xxxxxxx&authType=2

Query Parameters

Field	Description
token
required	Access Token generated via Dhan
clientId
required	User specific identification generated by Dhan
authType
required	2 by Default
Adding Instruments

20 Level

For 20 Level Market Depth, you can subscribe upto 50 instruments in a single connection and receive market data packets.

For subscribing, this can be done using JSON message which needs to be sent over WebSocket connection.

Note
You can send all 50 instruments in a single JSON message for 20 Depth. You can send multiple messages over a single connection as well to subscribe to all instruments in parts and receive data.

Request Structure


{
    "RequestCode" : 23,
    "InstrumentCount" : 1,
    "InstrumentList" : [
        {
            "ExchangeSegment" : "NSE_EQ",
            "SecurityId" : "1333"
        }
    ]
}

Parameters

Field	Type	Description
RequestCode
required	int	Code for subscribing to particular data mode. 23 for Full Market Depth.
Refer to feed request code to subscribe to required data mode
InstrumentCount
required	int	No. of instruments to subscribe from this request
InstrumentList.ExchangeSegment
required	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
InstrumentList.SecurityId
required	string	Exchange standard ID for each scrip. Refer here
200 Level

In 200 level market depth, only 1 instrument per connection can be subscribed. The JSON payload needs to be sent similar to 20 level depth subscription, while the socket connection has been established.

Request Structure


{
    "RequestCode" : 23,
    "ExchangeSegment" : "NSE_EQ",
    "SecurityId" : "1333"
}

Parameters

Field	Type	Description
RequestCode
required	int	Code for subscribing to particular data mode. 23 for Full Market Depth.
Refer to feed request code to subscribe to required data mode
ExchangeSegment
required	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
SecurityId
required	string	Exchange standard ID for each scrip. Refer here
Keeping Connection Alive

To keep the WebSocket connection alive and prevent it from closing, the server side uses Ping-Pong module. Server side sends ping every 10 seconds to the client server (in this case, your system) to maintain WebSocket status as open.

An automated pong is sent by websocket library. You can use the same as response to the ping.

In case the client server does not respond for more than 40 seconds, the connection is closed from server side and you will have to reestablish connection.
Response Structure

The market depth data is sent as structured binary packet. It will require parsing to readable format to extract the relevant information.

All responses from Dhan Market Feed consists of Response Header and Payload. Header for every response message remains the same with different feed response code, while the payload can be different.

20 Level

Response Header
The response header message is of 12 bytes which will remain as part of the response message. The message structure is given as below.

Bytes	Type	Size	Description
1-2	int16	2	Message Length of the entire payload packet
3	[ ] byte	1	Feed Response Code can be referred in Annexure
4	[ ] byte	1	Exchange Segment can be referred in Annexure
5-8	int32	4	Security ID - can be found here
9-12	uint32	4	Message Sequence (to be ignored)
Depth Packet
Depth Data Packet for 20 level market depth is structured differently from 5 level depth. Over here, you will receive the bid (sell) and ask (buy) data packets separately, each containing 20 packets of 16 bytes each.

Bytes	Type	Size	Description
0-12	[ ] array	12	Response Header
41 for Bid Data (Buy)
51 for Ask Data (Sell)
Refer to enum for values
13-332	Bid/Ask Depth Structure	320	20 packets of 16 bytes each for each instrument in below provided structure
Each of these 20 packets will be received in the following packet structure:

Bytes	Type	Size	Description
1-8	float64	8	Price
9-12	uint32	4	Quantity
13-16	uint32	4	No. of Orders
200 Level

Response Header
The response header message is of 12 bytes which will remain as part of the response message. The message structure is given as below.

Bytes	Type	Size	Description
1-2	int16	2	Message Length of the entire payload packet
3	[ ] byte	1	Feed Response Code can be referred in Annexure
4	[ ] byte	1	Exchange Segment can be referred in Annexure
5-8	int32	4	Security ID - can be found here
9-12	uint32	4	No of Rows - gives number of rows to be read for response
Depth Packet
200 level market depth is structured similar to 20 level depth. Over here, you will receive the bid (sell) and ask (buy) data packets separately, each containing multiple packets of 16 bytes each.

Bytes	Type	Size	Description
0-12	[ ] array	12	Response Header
41 for Bid Data (Buy)
51 for Ask Data (Sell)
Refer to enum for values
13-3212	Bid/Ask Depth Structure	3200	200 packets of 16 bytes each for each instrument in below provided structure
Each of these 200 packets will be received in the following packet structure:

Bytes	Type	Size	Description
1-8	float64	8	Price
9-12	uint32	4	Quantity
13-16	uint32	4	No. of Orders
Note

Whenever 20 or 200 level depth packets are sent on the connection, they are stacked one after another in a single message. For 20 level depth, if two instruments are subscribed, then the first instrument's Bid packet followed by Ask packet of that instrument is added and then the second instrument's bid and ask packets in same sequence. To handle this, you can break down the packet on the basis of length.

Feed Disconnect

If you want to disconnect WebSocket, you can send below JSON request message via the connection.


{
    "RequestCode" : 12
}
In case of WebSocket disconnection from server side, you will receive disconnection packet, which will have disconnection reason code.

If more than 5 websockets are established, then the first socket will be disconnected with 805 with every additional connection.


Bytes	Type	Size	Description
0-12	[ ] array	8	Response Header with code 50
Refer to enum for values
13-14	int16	2	Disconnection message code - here
You can find detailed Disconnection message code description here.


Historical Data
This API gives you historical candle data for the desired scrip across segments & exchange. This data is presented in the form of a candle and gives you timestamp, open, high, low, close & volume.

POST	/charts/historical	Get OHLC for daily timeframe
POST	/charts/intraday	Get OHLC for minute timeframe
Daily Historical Data

Retrieve OHLC & Volume of daily candle for desired instrument. The data for any scrip is available back upto the date of its inception.


curl --request POST \
--url https://api.dhan.co/v2/charts/historical \
--header 'Content-Type: application/json' \
--header 'access-token: JWT' \
--data '{}'

Request Structure


    {
        "securityId": "1333",
        "exchangeSegment":"NSE_EQ",
        "instrument": "EQUITY",
        "expiryCode": 0,
        "oi": false,
        "fromDate": "2022-01-08",
        "toDate": "2022-02-08"
    }

Parameters

Field	Field Type	Description
securityId
required	string	Exchange standard ID for each scrip. Refer here
exchangeSegment
required	enum string	Exchange & segment for which data is to be fetched - here
instrument
required	enum string	Instrument type of the scrip . Refer here
expiryCode
optional	enum integer	Expiry of the instruments in case of derivatives. Refer here
oi
optional	boolean	Open Interest data for Futures & Options
fromDate
required	string	Start date of the desired range
toDate
required	string	End date of the desired range (non-inclusive)

Response Structure


{
    "open": [
            3978,3856,3925,3918,3877.85,3992.7,4033.95,4012,3910,3807,3840,3769.5,3731,3646,3749,
            3770,3827.9,3851,3815.3,3791
        ],
    "high": [
        3978,3925,3929,3923,3977,4043,4041.7,4012,3920,3851.55,3849.65,3809.4,3733.4,3729.8,
        3758,3808,3864,3882.5,3824.7,3831.8
        ],
    "low":  [
        3861,3856,3836.55,3857,3860.05,3962.3,3980,3910.5,3811,3771.1,3740.1,3722.2,3625.1,
        3646,3721.4,3736.4,3800.65,3816.05,3769,3756.15
        ],
    "close": [
        3879.85,3915.9,3859.9,3897.9,3968.15,4019.15,3990.6,3914.65,3826.55,3833.5,3771.35,
        3769.9,3649.25,3690.05,3736.25,3800.65,3856.2,3824.6,3814.9,3779
        ],
    "volume":[
        3937092,1906106,3203744,6684507,3348123,3442604,2389041,3102539,6176776,3112358,     
        3258414,3330501,5718297,3143862,2739393,2105169,1984212,1960538,2307366,1919149
        ],
    "timestamp": [
        1326220200,1326306600,1326393000,1326479400,1326565800,1326825000,1326911400,
        1326997800,1327084200,1327170600,1327429800,1327516200,1327689000,1327775400,
        1328034600,1328121000,1328207400,1328293800,1328380200,1328639400
        ],
    "open_interest": [
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
}
Parameters

Field	Field Type	Description
open	float	Open price of the timeframe
high	float	High price in the timeframe
low	float	Low price in the timeframe
close	float	Close price of the timeframe
volume	int	Volume traded in the timeframe
timestamp	int	Epoch timestamp
Intraday Historical Data

Retrieve Open, High, Low, Close, OI & Volume of 1, 5, 15, 25 and 60 min candle for desired instrument for last 5 years. This data available for all exchanges and segments for all active instruments.


    curl --request POST \
    --url https://api.dhan.co/v2/charts/intraday \
    --header 'Accept: application/json' \
    --header 'Content-Type: application/json' \
    --header 'access-token: ' \
    --data '{}'

Request Structure


{
"securityId": "1333",
"exchangeSegment": "NSE_EQ",
"instrument": "EQUITY",
"interval": "1",
"oi": false,
"fromDate": "2024-09-11 09:30:00",
"toDate": "2024-09-15 13:00:00"
}

Parameters

Field	Field Type	Description
securityId
required	string	Exchange standard ID for each scrip. Refer here
exchangeSegment
required	enum string	Exchange & segment for which data is to be fetched - here
instrument
required	enum string	Instrument type of the scrip . Refer here
interval
required	enum integer	Minute intervals in timeframe
1, 5, 15, 25, 60
oi
optional	boolean	Open Interest data for Futures & Options
fromDate
required	string	Start date of the desired range
toDate
required	string	End date of the desired range
Note

The data size is very large in this scenario and only 90 days of data can be polled at once for any of the above time intervals. It is recommended that you store this data at your end for day-to-day analysis.


Response Structure


{
    "open":   [
    3750,3757.85,3751.2,3763.6,3759.55,3759,3761,3763,3767.25,3773.65,3766.1,3765.65,3767.1,3774.15,3775.9,3774.95,3773.2,3774.7,3772.25,3774.85,3767.2,3768,3768.95,3768.85,3769.3,3773.55,3773.95,3770,3770.25,3769.1,3765.3,3760.2,3762.45,3765.4,
    3767.8,3768.8,3764.75,3763.2,3764.9,3764.9,3765.45,3764,3765,3764.5,3764.3,3764.85,3765,3762,3764.2,3762.05,3757.55,3757,3754.25,3755.95,3760.75,3760.05,3757.45,3760.2,3757.1,3758.1,3757.6,3758.8,3760.35,3761.05,3761.15,3760.4,3760.25,3760.85,
    3758.6,3760,3760.6,3759.05,3757.55,3758.2,3759.6,3760,3759,3759.3,3759.9,3758.8,3758.6,3759.5,3759.55,3757.4,3756.9,3757,3756.4,3757.6,3757.6,3757.05,3756.4,3757.95,3756.45,3757.4,3759.95
    ],
    "high":   [
    3750,3757.9,3763.6,3765.2,3763.15,3768,3764.75,3766.9,3775,3773.8,3766.9,3768.5,3777.7,3777,3777.95,3775.4,3775.95,3775,3775,3774.95,3770.8,3770,3769,3769.85,3773.6,3776,3774.8,3772.15,3773.55,3772.1,3765.3,3763.85,3768.95,3769,3769.85,3769,3766.55,
    3765.8,3765.4,3766,3766,3765.4,3767.35,3765,3765,3767.15,3765.5,3764.25,3764.2,3762.05,3760,3757.1,3757.3,3761.95,3762,3761,3759.95,3760.2,3758.15,3759.4,3759,3761.5,3762.6,3762.1,3762.75,3761.65,3761.55,3762,3760,3762,3763.7,3762.85,3762.8,3762,3761.85,3764.95,
    3765,3763.55,3764,3765,3763.35,3761.6,3764,3763.4,3762.8,3763.5,3763.8,3763,3760,3762.55,3761,3761,3761.15,3760.9,3763.4,3761.4,3761.4,3762,3762,3762,3761.95,3762,3762,3758.5,3758.65,3761.45,3760.95,3759.85,3758.55,3757.85,3756.5,3755.9,3756.3,3755.75,3757.4,
    3759.6,3758.8,3758.9,3758.25,3758.2,3758.6,3760,3761.55,3760.6,3759.05,3758.4,3759.6,3760.9,3760.25,3763.55,3761,3760.95,3760,3759.65,3759.55,3759.55,3758.7,3757.05,3757.35,3756.95,3758.25,3758,3758.8,3758.4,3759.85,3758.9,3759.35,3759.95
    ],
    "low":      [
        3750,3746.1,3749.25,3757,3758.65,3758.6,3758,3761,3767.25,3764,3762.15,3765.15,3767.1,3772.25,3772.55,3772.35,3773.2,3772,3771.6,3767.3,3767,3767.4,3766.1,3767.55,3769.3,3773,3770,3768.85,
        3769,3765,3760,3760,3762.45,3765.25,3765,3761.15,3763.2,3762.4,3764.3,3764,3764,3763.5,3764.25,3762.65,3763.55,3764.15,3762,3761.05,3761.5,3756.7,3756.65,3752.75,3753,3755.5,3758.15,3757.55,
        3755.3,3756,3756.55,3757.05,3757.15,3757.6,3760,3760,3760,3760,3759.55,3759.5,3758.05,3759.5,3761.05,3760.3,3760.05,3760.1,3759,3761.1,3762.85,3761.2,3759.55,3761.05,3760.95,3760,3760,
        3761.85,3761.55,3761.4,3761.95,3759.1,3758.05,3758.55,3759.9,3758.35,3760,3759.8,3759.5,3760,3759.75,3759.65,3760,3760.15,3760.1,3760,3756.5,3757.9,3758.45,3758.8,3759,3758,3757,3753.6,
        3754,3755.1,3755.05,3755.05,3755.6,3756.4,3757.5,3756.25,3756,3756.05,3756.1,3756.7,3759.45,3758.3,3757.15,3756.85,3757.05,3759,3758.4,3759,3758,3758.65,3758,3758.5,3758.55,3758,3756.5,3756.15,3756,3755.35,3755.9,3756.05,3756,3756,3756.2,3756.45,3756.7,3756.9
    ],
    "close":    [
        3750,3751.25,3763.6,3760.85,3759,3761.3,3762.95,3766.9,3772.95,3766.35,3765.55,3767.3,3774.1,3774.95,3775,3773,3775,3772.15,3774.95,3767.95,3768.5,3769,3768.55,3769.85,3773.15,3774,3770,
        3771.35,3769.4,3765,3760.35,3762.5,3765.95,3768.35,3767.3,3764.05,3763.2,3764.95,3764.95,3765.45,3764,3764.9,3764.6,3764.3,3764.95,3765,3762,3764.2,3762.1,3758,3757.1,3753.85,3755.95,3760.65,
        3760.35,3757.55,3759.95,3757.1,3757.5,3757.65,3758.8,3761.5,3761.05,3761.15,3761.1,3760.25,3759.55,3760,3759.5,3761.1,3761.55,3761,3761,3760.2,3761.6,3763.35,3762.85,3761.55,3762.6,3763.35,3761,
        3761.05,3763.65,3762.8,3761.55,3763.5,3762.35,3759.95,3759,3760.5,3760.3,3761,3760.9,3759.9,3761.3,3761.3,3760,3760.7,3760.05,3760.9,3761.95,3762,3758.35,3758.45,3758.45,3760.9,3759.9,3758.55,3757,
        3754.9,3755.7,3755.1,3755.55,3755.75,3756.6,3758.85,3758.7,3756.25,3757.4,3757.65,3758.6,3760,3760.6,3759.05,3757.55,3756.85,3759.2,3759.5,3759,3759.65,3759.9,3758.8,3759.65,3759.5,3759.55,3758.85,3756.9,3756.9,3756.4,3756.6,3756.2,3757.5,3756.4,3757.9,3756.3,3757.35,3758.75,3756.9
    ],
    "volume":   [
        166,53629,34592,20802,11262,17549,13239,11514,20125,12948,11761,8039,21998,9373,13171,9564,7287,6217,13260,5135,9676,5218,7365,3541,5547,13108,3659,4587,6499,12101,12766,12216,7619,8063,9830,6717,5976,
        3907,3907,7276,6048,3581,6525,3270,2139,6391,3418,3290,3636,9730,3460,8773,4929,7772,6410,5050,3300,5275,1871,1951,1901,2265,3353,2221,2822,2668,2840,3109,1995,3522,6635,2914,2056,2781,3331,3383,3125,2235,6889,
        3398,1671,2054,2856,1668,1431,2576,1791,4715,1751,4474,1973,2292,2325,1845,2906,2240,2032,2984,2262,2980,2796,3117,7508,1971,2004,3972,2181,2511,2316,5713,2506,1717,1967,2072,2304,2248,1861,1503,2358,1845,2329,
        2407,2589,1542,1571,1707,2355,2696,3459,4160,2037,2036,1972,1491,1664,1846,2049,2149,3937,2603,1765,2005,2867,2141,2103,2279,2490,2111
    ],
    "timestamp":[
        1328845020,1328845500,1328845560,1328845620,1328845680,1328845740,1328845800,1328845860,1328845920,1328845980,1328846040,1328846100,1328846160,1328846220,1328846280,1328846340,1328846400,1328846460,1328846520,1328846580,1328846640,1328846700,1328846760,1328846820,1328846880,1328846940,1328847000,1328847060,1328847120,1328847180,1328847240,1328847300,1328847360,1328847420,1328847480,1328847540,
        1328847600,1328847660,1328847720,1328847780,1328847840,1328847900,1328847960,1328848020,1328848080,1328848140,1328848200,1328848260,1328848320,1328848380,1328848440,1328848500,1328848560,1328848620,1328848680,1328848740,1328848800,1328848860,1328848920,1328848980,1328849040,1328849100,1328849160,1328849220,1328849280,1328849340,1328849400,1328849460,1328849520,1328849580,1328849640,1328849700,
        1328849760,1328849820,1328849880,1328849940,1328850000,1328850060,1328850120,1328850180,1328850240,1328850300,1328850360,1328850420,1328850480,1328850540,1328850600,1328850660,1328850720,1328850780,1328850840,1328850900,1328850960,1328851020,1328851080,1328851140,1328851200,1328851260,1328851320,1328851380,1328851440,1328851500,1328851560,1328851620,1328851680,1328851740,1328851800,1328851860,
        1328851920,1328851980,1328852040,1328852100,1328852160,1328852220,1328852280,1328852340,1328852400,1328852460,1328852520,1328852580,1328852640,1328852700,1328852760,1328852820,1328852880,1328852940,1328853000,1328853060,1328853120,1328853180,1328853240,1328853300,1328853360,1328853420,1328853480,1328853540,1328853600,1328853660,1328853720,1328853780,1328853840,1328853900,1328853960,1328854020,1328854080,1328854140,1328854200,1328854260
    ],
    "open_interest":[
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    ]
}
Parameters

Field	Field Type	Description
open	float	Open price of the timeframe
high	float	High price in the timeframe
low	float	Low price in the timeframe
close	float	Close price of the timeframe
volume	int	Volume traded in the timeframe
timestamp	int	Epoch timestamp

Expired Options Data
This API gives you expired options contract data. We have pre processed data for you to get it on rolling basis i.e. you can fetch last 5 years of strike wise data based on ATM and upto 10 strikes above and below. In addition to that, the data values are open, high, low, close, implied volatility, volume, open interest and spot information as well.

POST	/charts/rollingoption	Get Continuous Expired Options Contract data
Historical Rolling Data

Fetch expired options data on a rolling basis, along with the Open Interest, Implied Volatility, OHLC, Volume as well as information about the spot. You can fetch for upto 30 days of data in a single API call. Expired options data is stored on a minute level, based on strike price relative to spot (example ATM, ATM+1, ATM-1, etc.).

You can fetch data upto last 5 years. We have added both Index Options and Stock Options data on this.


curl --request POST \
--url https://api.dhan.co/v2/charts/rollingoption \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--header 'access-token: ' \
--data '{}'

Request Structure


    {
    "exchangeSegment": "NSE_FNO",
    "interval": "1",
    "securityId": 13,
    "instrument": "OPTIDX",
    "expiryFlag": "MONTH",
    "expiryCode": 1,
    "strike": "ATM",
    "drvOptionType": "CALL",
    "requiredData": [
        "open",
        "high",
        "low",
        "close",
        "volume"
    ],
    "fromDate": "2021-08-01",
    "toDate": "2021-09-01"
    }

Parameters

Field	Field Type	Description
exchangeSegment
required	enum string	Exchange & segment for which data is to be fetched - here
interval
required	enum integer	Minute intervals in timeframe
1, 5, 15, 25, 60
securityId
required	string	Underlying exchange standard ID for each scrip. Refer here
instrument
required	enum string	Instrument type of the scrip. Refer here
expiryCode
required	enum integer	Expiry of the instruments. Refer here
expiryFlag
required	enum string	Expiry intervale of the instrument
WEEK or MONTH
strike
required	enum string	ATM for At the Money
Upto ATM+10 / ATM-10 for Index Options near expiry
Upto ATM+3 / ATM-3 for all other contracts
drvOptionType
required	enum string	CALL or PUT
requiredData
required	array []	Array of all required parameters
open high low close iv volume strike oi spot
fromDate
required	string	Start date of the desired range
toDate
required	string	End date of the desired range (non-inclusive)

Response Structure


{
    "data": {
        "ce": {
        "iv": [],
        "oi": [],
        "strike": [],
        "spot": [],
        "open": [
            354,
            360.3
        ],
        "high": [],
        "low": [],
        "close": [],
        "volume": [],
        "timestamp": [
            1756698300,
            1756699200
        ]
        },
        "pe": null
    }
}
Parameters

Field	Field Type	Description
open	float	Open price of the timeframe
high	float	High price in the timeframe
low	float	Low price in the timeframe
close	float	Close price of the timeframe
volume	int	Volume traded in the timeframe
timestamp	int	Epoch timestamp

Option Chain
This API gives entire Option Chain of any Option Instrument, across exchanges and segments - for NSE, BSE and MCX traded options. With Option Chain, you get OI, greeks, volume, top bid/ask and price data of all strikes of a particular underlying.

POST	/optionchain	Get Option Chain of any instrument
POST	/optionchain/expirylist	Expiry List for Options of Underlying
Info
You can call Option Chain API once every 3 seconds. This will give you latest updated data.

Option Chain

Retrieve real-time Option Chain across exchanges for all underlying. You can fetch Open Interest (OI), Greeks, Volume, Last Traded Price, Best Bid/Ask and Implied Volatility (IV) across all strikes for any underlying.


    curl --location 'https://api.dhan.co/v2/optionchain' \
    --header 'access-token: JWT' \
    --header 'client-id: ClientId' \
    --header 'Content-Type: application/json' \
    --data '{}'

Header

Header	Description
access-token
required	Access Token generated via Dhan
client-id
required	User specific identification generated by Dhan
Request Structure


    {
    "UnderlyingScrip":13,
    "UnderlyingSeg":"IDX_I",
    "Expiry":"2024-10-31"
    }

Parameters

Field	Field Type	Description
UnderlyingScri
required	int	Security ID of Underlying Instrument - can be found here
UnderlyingSeg	enum string	Exchange & segment of underlying for which data is to be fetched - here
Expiry	string	Expiry Date of Option, for which Option Chain is requested. List of active expiries can be fetched from here

Response Structure


{
    "data": {
        "last_price": 24964.25,
        "oc": {
            .
            .
            "25000.000000": {
                "ce": {
                    "greeks": {
                        "delta": 0.52546,
                        "theta": -12.88756,
                        "gamma": 0.00136,
                        "vega": 12.98931
                    },
                    "implied_volatility": 8.945204889199001,
                    "last_price": 125.05,
                    "oi": 5962675,
                    "previous_close_price": 190.45,
                    "previous_oi": 3939375,
                    "previous_volume": 831463,
                    "top_ask_price": 124.9,
                    "top_ask_quantity": 1000,
                    "top_bid_price": 124,
                    "top_bid_quantity": 100,
                    "volume": 84202625
                },
                "pe": {
                    "greeks": {
                        "delta": -0.48099,
                        "theta": -10.56587,
                        "gamma": 0.00092,
                        "vega": 13.00105
                    },
                    "implied_volatility": 13.321804909313869,
                    "last_price": 165,
                    "oi": 5059700,
                    "previous_close_price": 153.6,
                    "previous_oi": 4667700,
                    "previous_volume": 1047989,
                    "top_ask_price": 165,
                    "top_ask_quantity": 375,
                    "top_bid_price": 164.05,
                    "top_bid_quantity": 50,
                    "volume": 81097175
                }
            }
            .
            .
            .
        }
    }
}
Parameters

Field	Type	Description
data.last_price	float	LTP of the Underlying
data.oc	array	Option Chain Array - Strike Wise
data.oc.{strike}	array	Strike Price for Underlying
data.oc.{strike}.ce	array	Call Option data of particular strike
data.oc.{strike}.pe	array	Put Option data of particular strike
Call/Put Option Data

Field	Type	Description
greeks.delta	float	Measures the change of option's premium based on every 1 rupee change in underlying
greeks.theta	float	Measures measures how quickly an option's value decreases over time
greeks.gamma	float	Rate of change in an option's delta in relation to the price of the underlying asset
greeks.vega	float	Measures the change of option's premium in response to a 1% change in implied volatility
implied_volatility	float	Value of expected volatility of a stock over the life of the option
last_price	float	Last Traded Price of the Option Instrument
oi	int	Open Interest of the Option Instrument
previous_close_price	float	Previous day close price
previous_oi	int	Previous day Open Interest
previous_volume	int	Previous day volume
top_ask_price	float	Current best ask price available
top_ask_quantity	int	Quantity available at current best ask price
top_bid_price	float	Current best bid price available
top_bid_quantity	int	Quantity available at current best bid price
volume	int	Day volume for Option Instrument
Expiry List

Retrieve dates of all expiries of any underlying, for which Options Instruments are active.


    curl --request POST \
    --url https://api.dhan.co/v2/optionchain/expirylist \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --header 'client-id: 1000000001' \
    --data '{}'

Header

Header	Description
access-token
required	Access Token generated via Dhan
client-id
required	User specific identification generated by Dhan
Request Structure


    {
    "UnderlyingScrip":13,
    "UnderlyingSeg":"IDX_I"
    }

Parameters

Field	Field Type	Description
UnderlyingScri
required	int	Security ID of Underlying Instrument - can be found here
UnderlyingSeg	enum string	Exchange & segment of underlying for which data is to be fetched - here

Response Structure


{
    "data": [
        "2024-10-17",
        "2024-10-24",
        "2024-10-31",
        "2024-11-07",
        "2024-11-14",
        "2024-11-28",
        "2024-12-26",
        "2025-03-27",
        "2025-06-26",
        "2025-09-25",
        "2025-12-24",
        "2026-06-25",
        "2026-12-31",
        "2027-06-24",
        "2027-12-30",
        "2028-06-29",
        "2028-12-28",
        "2029-06-28"
    ],
    "status": "success"
}
Parameters

Field	Type	Description
data[]	array	All expiry dates of underlying in YYYY-MM-DD
Note
The rate limit applicable for Option Chain API is at 1 request per 3 second. This is because OI data gets updated slow, compared to LTP or other data parameter.
