here is dhan documentation [Orders
The order management API lets you place a new order, cancel or modify the pending order, retrieve the order status, trade status, order book & tradebook.

POST	/orders	Place a new order
PUT	/orders/{order-id}	Modify a pending order
DELETE	/orders/{order-id}	Cancel a pending order
POST	/orders/slicing	Slice order into multiple legs over freeze limit
GET	/orders	Retrieve the list of all orders for the day
GET	/orders/{order-id}	Retrieve the status of an order
GET	/orders/external/{correlation-id}	Retrieve the status of an order by correlation id
GET	/trades	Retrieve the list of all trades for the day
GET	/trades/{order-id}	Retrieve the details of trade by an order id
Order Placement, Modification and Cancellation APIs requires Static IP whitelisting - here
Order Placement

The order request API lets you place new orders.


    curl --request POST \
    --url https://api.dhan.co/v2/orders \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --data '{Request JSON}'

Request Structure


    {
        "dhanClientId":"1000000003",
        "correlationId":"123abc678",
        "transactionType":"BUY",
        "exchangeSegment":"NSE_EQ",
        "productType":"INTRADAY",
        "orderType":"MARKET",
        "validity":"DAY",
        "securityId":"11536",
        "quantity":"5",
        "disclosedQuantity":"",
        "price":"",
        "triggerPrice":"",
        "afterMarketOrder":false,
        "amoTime":"",
        "boProfitValue":"",
        "boStopLossValue": ""
    }

Parameters

Field	Type	Description
dhanClientId
required	string	User specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back.
transactionType
required	enum string	The trading side of transaction
BUY  SELL
exchangeSegment
required	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType
required	enum string	Product type
CNC  INTRADAY MARGIN MTF  CO BO
orderType
required	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
validity
required	enum string	Validity of Order
DAY IOC
securityId
required	string	Exchange standard ID for each scrip. Refer here
quantity
required	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible (Keep more than 30% of quantity)
price
required	float	Price at which order is placed
triggerPrice
conditionally required	float	Price at which the order is triggered, in case of SL-M & SL-L
afterMarketOrder
conditionally required	boolean	Flag for orders placed after market hours
amoTime
conditionally required	enum sting	Timing to pump the after market order
PRE_OPEN OPEN OPEN_30 OPEN_60
boProfitValue
conditionally required	float	Bracket Order Target Price change
boStopLossValue
conditionally required	float	Bracket Order Stop Loss Price change

Response Structure


{
    "orderId": "112111182198",
    "orderStatus": "PENDING",
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED
Order Modification

Using this API one can modify pending order in orderbook. The variables that can be modified are price, quantity, order type & validity. The user has to mention the desired value in fields.


    curl --request PUT \
    --url https://api.dhan.co/v2/orders/{order-id} \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --data '{Request JSON}'

Request Structure


    {
        "dhanClientId":"1000000009",
        "orderId":"112111182045",
        "orderType":"LIMIT",
        "legName":"",
        "quantity":"40",
        "price":"3345.8",
        "disclosedQuantity":"10",
        "triggerPrice":"",
        "validity":"DAY"
    }

Parameters

Field	Type	description
dhanClientId
required	string	User specific identification generated by Dhan
orderId
required	string	Order specific identification generated by Dhan
orderType
required	enum string	Order Type
LIMIT MARKET STOP_LOSS STOP_LOSS_MARKET
legName
conditionally required	enum string	In case of BO & CO, which leg is modified
ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
quantity
conditionally required	int	Quantity to be modified
price
conditionally required	float	Price to be modified
disclosedQuantity	int	Number of shares visible (if opting keep >30% of quantity)
triggerPrice
conditionally required	float	Price at which the order is triggered, in case of SL-M & SL-L
validity
required	enum string	Validity of Order
DAY IOC

Response Structure


{
    "orderId": "112111182045",
    "orderStatus": "TRANSIT"
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED
Order Cancellation

Users can cancel a pending order in the orderbook using the order id of an order. There is no body for request and response for this call. On successful completion of request ‘202 Accepted’ response status code will appear.


    curl --request DELETE \
    --url https://api.dhan.co/v2/orders/{order-id} \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


{
"orderId": "112111182045",
"orderStatus": "CANCELLED"
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED
Order Slicing

This API helps you slice your order request into multiple orders to allow you to place over freeze limit quantity for F&O instruments.


cURL
Python

dhan.place_slice_order(data)


Request Structure


    {
        "dhanClientId":"1000000003",
        "correlationId":"123abc678",
        "transactionType":"BUY",
        "exchangeSegment":"NSE_EQ",
        "productType":"INTRADAY",
        "orderType":"MARKET",
        "validity":"DAY",
        "securityId":"11536",
        "quantity":"5",
        "disclosedQuantity":"",
        "price":"",
        "triggerPrice":"",
        "afterMarketOrder":false,
        "amoTime":"",
        "boProfitValue":"",
        "boStopLossValue": ""
    }

Parameters

Field	Type	Description
dhanClientId
required	string	User specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back.
transactionType
required	enum string	The trading side of transaction
BUY   SELL
exchangeSegment
required	enum string	Exchange & Segment
Exchange Segment of instrument to be subscribed as found in Annexure
productType
required	enum string	Product type
CNC  INTRADAY MARGIN MTF  CO BO
orderType
required	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
validity
required	enum string	Validity of Order
DAY IOC
securityId
required	string	Exchange standard ID for each scrip. Refer here
quantity
required	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible (Keep more than 30% of quantity)
price
required	float	Price at which order is placed
triggerPrice
conditionally required	float	Price at which the order is triggered, in case of SL-M & SL-L
afterMarketOrder
conditionally required	boolean	Flag for orders placed after market hours
amoTime
conditionally required	enum sting	Timing to pump the after market order
PRE_OPEN OPEN OPEN_30 OPEN_60
boProfitValue
conditionally required	float	Bracket Order Target Price change
boStopLossValue
conditionally required	float	Bracket Order Stop Loss Price change

Response Structure


[
    {
        "orderId": "552209237100",
        "orderStatus": "TRANSIT"
    },
    {
        "orderId": "552209237100",
        "orderStatus": "TRANSIT"
    }
]


Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	string	Order Type
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED CONFIRM
Order Book

This API lets you retrieve an array of all orders requested in a day with their last updated status.


    curl --request GET \
    --url https://api.dhan.co/v2/orders \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


[
    {
        "dhanClientId": "1000000003",
        "orderId": "112111182198",
        "correlationId":"123abc678",
        "orderStatus": "PENDING",
        "transactionType": "BUY",
        "exchangeSegment": "NSE_EQ",
        "productType": "INTRADAY",
        "orderType": "MARKET",
        "validity": "DAY",
        "tradingSymbol": "",
        "securityId": "11536",
        "quantity": 5,
        "disclosedQuantity": 0,
        "price": 0.0,
        "triggerPrice": 0.0,
        "afterMarketOrder": false,
        "boProfitValue": 0.0,
        "boStopLossValue": 0.0,
        "legName": ,
        "createTime": "2021-11-24 13:33:03",
        "updateTime": "2021-11-24 13:33:03",
        "exchangeTime": "2021-11-24 13:33:03",
        "drvExpiryDate": null,
        "drvOptionType": null,
        "drvStrikePrice": 0.0,
        "omsErrorCode": null,
        "omsErrorDescription": null,
        "algoId": "string"
        "remainingQuantity": 5,
        "averageTradedPrice": 0,
        "filledQty": 0
    }
]

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED PART_TRADED TRADED EXPIRED
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
validity	enum string	Validity of Order
DAY IOC
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard ID for each scrip. Refer here
quantity	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible
price	float	Price at which order is placed
triggerPrice	float	Price at which order is triggered, for SL-M, SL-L, CO & BO
afterMarketOrder	boolean	The order placed is AMO ?
boProfitValue	float	Bracket Order Target Price change
boStopLossValue	float	Bracket Order Stop Loss Price change
legName	enum string	Leg identification in case of BO
ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
omsErrorCode	string	Error code in case the order is rejected or failed
omsErrorDescription	string	Description of error in case the order is rejected or failed
algoId	string	Exchange Algo ID for Dhan
remainingQuantity	integer	Quantity pending at the exchange to be traded (quantity - filledQty)
averageTradedPrice	integer	Average price at which order is traded
filledQty	integer	Quantity of order traded on Exchange
Get Order by Order Id

Users can retrieve the details and status of an order from the orderbook placed during the day.


    curl --request GET \
    --url https://api.dhan.co/v2/orders/{order-id} \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


{
    "dhanClientId": "1000000003",
    "orderId": "112111182198",
    "correlationId":"123abc678",
    "orderStatus": "PENDING",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "INTRADAY",
    "orderType": "MARKET",
    "validity": "DAY",
    "tradingSymbol": "",
    "securityId": "11536",
    "quantity": 5,
    "disclosedQuantity": 0,
    "price": 0.0,
    "triggerPrice": 0.0,
    "afterMarketOrder": false,
    "boProfitValue": 0.0,
    "boStopLossValue": 0.0,
    "legName": ,
    "createTime": "2021-11-24 13:33:03",
    "updateTime": "2021-11-24 13:33:03",
    "exchangeTime": "2021-11-24 13:33:03",
    "drvExpiryDate": null,
    "drvOptionType": null,
    "drvStrikePrice": 0.0,
    "omsErrorCode": null,
    "omsErrorDescription": null,
    "algoId": "string"
    "remainingQuantity": 5,
    "averageTradedPrice": 0,
    "filledQty": 0
}

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED PART_TRADED TRADED EXPIRED
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
validity	enum string	Validity of Order
DAY IOC
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard ID for each scrip. Refer here
quantity	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible
price	float	Price at which order is placed
triggerPrice	float	Price at which order is triggered, for SL-M, SL-L, CO & BO
afterMarketOrder	boolean	The order placed is AMO ?
boProfitValue	float	Bracket Order Target Price change
boStopLossValue	float	Bracket Order Stop Loss Price change
legName	enum string	Leg identification in case of BO
ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
omsErrorCode	string	Error code in case the order is rejected or failed
omsErrorDescription	string	Description of error in case the order is rejected or failed
algoId	string	Exchange Algo ID for Dhan
remainingQuantity	integer	Quantity pending at the exchange to be traded (quantity - filledQty)
averageTradedPrice	integer	Average price at which order is traded
filledQty	integer	Quantity of order traded on Exchange
Get Order by Correlation Id

In case the user has missed order id due to unforeseen reason, this API retrieves the order status using a tag called correlation id specified by users themselve.


    curl --request GET \
    --url https://api.dhan.co/v2/orders/external/{correlation-id} \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


{
    "dhanClientId": "1000000003",
    "orderId": "112111182198",
    "correlationId":"123abc678",
    "orderStatus": "PENDING",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "INTRADAY",
    "orderType": "MARKET",
    "validity": "DAY",
    "tradingSymbol": "",
    "securityId": "11536",
    "quantity": 5,
    "disclosedQuantity": 0,
    "price": 0.0,
    "triggerPrice": 0.0,
    "afterMarketOrder": false,
    "boProfitValue": 0.0,
    "boStopLossValue": 0.0,
    "legName": ,
    "createTime": "2021-11-24 13:33:03",
    "updateTime": "2021-11-24 13:33:03",
    "exchangeTime": "2021-11-24 13:33:03",
    "drvExpiryDate": null,
    "drvOptionType": null,
    "drvStrikePrice": 0.0,
    "omsErrorCode": null,
    "omsErrorDescription": null,
    "algoId": "string"
    "remainingQuantity": 5,
    "averageTradedPrice": 0,
    "filledQty": 0
}

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED PART_TRADED TRADED EXPIRED
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
validity	enum string	Validity of Order
DAY IOC
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard ID for each scrip. Refer here
quantity	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible
price	float	Price at which order is placed
triggerPrice	float	Price at which order is triggered, for SL-M, SL-L, CO & BO
afterMarketOrder	boolean	The order placed is AMO ?
boProfitValue	float	Bracket Order Target Price change
boStopLossValue	float	Bracket Order Stop Loss Price change
legName	enum string	Leg identification in case of BO
ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
omsErrorCode	string	Error code in case the order is rejected or failed
omsErrorDescription	string	Description of error in case the order is rejected or failed
algoId	string	Exchange Algo ID for Dhan
remainingQuantity	integer	Quantity pending at the exchange to be traded (quantity - filledQty)
averageTradedPrice	integer	Average price at which order is traded
filledQty	integer	Quantity of order traded on Exchange
Trade Book

This API lets you retrieve an array of all trades executed in a day.


    curl --request GET \
    --url https://api.dhan.co/v2/trades \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


[
    {
        "dhanClientId": "1000000009",
        "orderId": "112111182045",
        "exchangeOrderId": "15112111182045",
        "exchangeTradeId": "15112111182045",
        "transactionType": "BUY",
        "exchangeSegment": "NSE_EQ",
        "productType": "INTRADAY",
        "orderType": "LIMIT",
        "tradingSymbol": "TCS",
        "securityId": "11536",
        "tradedQuantity": 40,
        "tradedPrice": 3345.8,
        "createTime": "2021-03-10 11:20:06",
        "updateTime": "2021-11-25 17:35:12"
        "exchangeTime": "2021-11-25 17:35:12",
        "drvExpiryDate": null,
        "drvOptionType": null,
        "drvStrikePrice": 0.0
    }
]

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
exchangeOrderId	string	Order specific identification generated by exchange
exchangeTradeId	string	Trade specific identification generated by exchange
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard ID for each scrip.Refer here
tradedQuantity	int	Number of shares executed
tradedPrice	float	Price at which trade is executed
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
Trades of an Order

Users can retrieve the trade details using an order id. Often during partial trades or Bracket/ Cover Orders, traders get confused in reading trade from tradebook.The response of this API will include all the trades generated for a particular order id.


cURL
Python

dhan.get_trade_book(order_id)


Request Structure

No Body


Response Structure


{
    "dhanClientId": "1000000009",
    "orderId": "112111182045",
    "exchangeOrderId": "15112111182045",
    "exchangeTradeId": "15112111182045",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "INTRADAY",
    "orderType": "LIMIT",
    "tradingSymbol": "TCS",
    "securityId": "11536",
    "tradedQuantity": 40,
    "tradedPrice": 3345.8,
    "createTime": "2021-03-10 11:20:06",
    "updateTime": "2021-11-25 17:35:12",
    "exchangeTime": "2021-11-25 17:35:12",
    "drvExpiryDate": null,
    "drvOptionType": null,
    "drvStrikePrice": 0.0
}

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
exchangeOrderId	string	Order specific identification generated by exchange
exchangeTradeId	string	Trade specific identification generated by exchange
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT  MARKET  STOP_LOSS  STOP_LOSS_MARKET
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard ID for each scrip. Refer here
tradedQuantity	int	Number of shares executed
tradedPrice	float	Price at which trade is executed
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
Note: For description of enum values, refer Annexure
Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
DhanHQ Chatbot
Power by

Show me how to place a buy order
How to get market data using Python?
How do i handle errors in Dhan APIs?
What are the authentication requirements?
Today
HQ Bot
Hi! I'm your assistant. How can I help you today?
04:25 PM

Need Help?]
[Super Order
Super orders are built for smart execution of your trades. They are a collection of orders clubbed into single order request, which includes entry leg, target leg and stop loss leg along with the option to add trailing stop loss.

This particular set of APIs can be used to create, modify and cancel super orders. You can place super orders across all exchanges and segments.

POST	/super/orders	Create a new super order
PUT	/super/orders/{order-id}	Modify a pending super order
DELETE	/super/orders/{order-id}/{order-leg}	Cancel a pending super order leg
GET	/super/orders	Retrieve the list of all super orders
Place Super Order

The super order request API lets you place new super orders. You can place a combination of orders using this API, wether that be entry leg, target leg and stop loss leg.

This order type is available across segments and exchanges. You can place intraday, carry forward or even MTF orders via this order type.

This API requires Static IP whitelisting - here

    curl --request POST \
    --url https://api.dhan.co/v2/super/orders \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --data '{Request JSON}'

Request Structure


{
    "dhanClientId": "1000000003",
    "correlationId": "123abc678",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "CNC",
    "orderType": "LIMIT",
    "securityId": "11536",
    "quantity": 5,
    "price": 1500,
    "targetPrice": 1600,
    "stopLossPrice": 1400,
    "trailingJump": 10
}

Parameters

Field	Type	Description
dhanClientId
required	string	User specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
transactionType
required	enum string	The trading side of transaction
BUY  SELL
exchangeSegment
required	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType
required	enum string	Product type
CNC  INTRADAY MARGIN MTF
orderType
required	enum string	Order Type
LIMIT  MARKET
securityId
required	string	Exchange standard ID for each scrip. Refer here
quantity
required	int	Number of shares for the order
price
required	float	Price at which order is placed
targetPrice
required	float	Target Price for the Super Order
stopLossPrice
required	float	Stop Loss Price for the Super Order
trailingJump
required	float	Price Jump by which Stop Loss should be trailed

Response Structure


{
    "orderId": "112111182198",
    "orderStatus": "PENDING",
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED
Modify Super Order

This API can be used to modify any leg of a Super Order till it is in PENDING or PART_TRADED state.

Note
Order Entry Leg ENTRY_LEG can help modify the entire super order and can only be modified when the order status is PENDING or PART_TRADED. Once the entry order status is TRADED, only TARGET_LEG and STOP_LOSS_LEG price and trail jump can be modified.

This API requires Static IP whitelisting - here

    curl --request PUT \
    --url https://api.dhan.co/v2/super/orders/{order-id} \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT' \
    --data '{Request JSON}'

Request Structure


Entry Leg
Target
Stop Loss

{
    "dhanClientId":"1000000009",
    "orderId":"112111182045",
    "orderType":"LIMIT",
    "legName":"ENTRY_LEG",
    "quantity":"40",
    "price":"1300",
    "targetPrice": 1450,
    "stopLossPrice": 1350,
    "trailingJump": 20
}


Parameters

Field	Type	description
dhanClientId
required	string	User specific identification generated by Dhan
orderId
required	string	Order specific identification generated by Dhan
orderType
conditionally required	enum string	Order Type
LIMIT MARKET
legName
required	enum string	ENTRY_LEG - Entire Super Order can be modified, only when main order status is `PENDING` or `PART_TRADED`
TARGET_LEG STOP_LOSS_LEG
quantity
conditionally required	int	Quantity to be modified - only for ENTRY_LEG
price
conditionally required	float	Price to be modified - only for ENTRY_LEG
targetPrice
conditionally required	float	Target Price to be modified - ENTRY_LEG or TARGET_LEG
stopLossPrice
conditionally required	float	Stop Loss Price to be modified - ENTRY_LEG or STOP_LOSS_LEG
trailingJump
conditionally required	float	Stop Loss Price jump to be modified - ENTRY_LEG or STOP_LOSS_LEG
If trailing jump is not added or passed as 0, it will be cancelled

Response Structure


{
    "orderId": "112111182045",
    "orderStatus": "TRANSIT"
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED TRADED
Cancel Super Order

Users can cancel a pending/active super order using the order ID. There is no body for request and response for this call. On successful completion of request ‘202 Accepted’ response status code will appear.

This API requires Static IP whitelisting - here

    curl --request DELETE \
    --url https://api.dhan.co/v2/super/orders/{order-id}/{order-leg} \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Path Parameters

Field	Description	Example
order-id
required	Order ID of the Order being cancelled	11211182198
order-leg
required	Order Leg to be cancelled	ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
Note: Cancelling main order ID cancels all legs. If particular target or stop loss leg is cancelled, then the same cannot be added again.

Response Structure


{
"orderId": "112111182045",
"orderStatus": "CANCELLED"
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED
Super Order List

This API lets you retrieve an array of all super orders placed in a day with their last updated status. This is a special order book which only consists of Super Orders, where the target and stop loss orders are nested under the main entry order leg. Individual legs of each super order can also be found in the main order book with their Order ID.


    curl --request GET \
    --url https://api.dhan.co/v2/super/orders \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


[
    {
        "dhanClientId": "1100003626",
        "orderId": "5925022734212",
        "correlationId": "string",
        "orderStatus": "PENDING",
        "transactionType": "BUY",
        "exchangeSegment": "NSE_EQ",
        "productType": "CNC",
        "orderType": "LIMIT",
        "validity": "DAY",
        "tradingSymbol": "HDFCBANK",
        "securityId": "1333",
        "quantity": 10,
        "remainingQuantity": 10,
        "ltp": 1660.95,
        "price": 1500,
        "afterMarketOrder": false,
        "legName": "ENTRY_LEG",
        "exchangeOrderId": "11925022734212",
        "createTime": "2025-02-27 19:09:42",
        "updateTime": "2025-02-27 19:09:42",
        "exchangeTime": "2025-02-27 19:09:42",
        "omsErrorDescription": "",
        "averageTradedPrice": 0,
        "filledQty": 0,
        "legDetails": [
            {
                "orderId": "5925022734212",
                "legName": "STOP_LOSS_LEG",
                "transactionType": "SELL",
                "totalQuatity": 0,
                "remainingQuantity": 0,
                "triggeredQuantity": 0,
                "price": 1400,
                "orderStatus": "PENDING",
                "trailingJump": 10
            },
            {
                "orderId": "5925022734212",
                "legName": "TARGET_LEG",
                "transactionType": "SELL",
                "remainingQuantity": 0,
                "triggeredQuantity": 0,
                "price": 1550,
                "orderStatus": "PENDING",
                "trailingJump": 0
            }
        ]
    }
]

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING CLOSED REJECTED CANCELLED PART_TRADED TRADED
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF
orderType	enum string	Order Type
LIMIT  MARKET
validity	enum string	Validity of Order
DAY
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard ID for each scrip. Refer here
quantity	int	Number of shares for the order
remainingQuantity	int	Quantity pending execution
ltp	float	Last Traded Price of the instrument
price	float	Price at which order is placed
afterMarketOrder	boolean	If the order is placed after market
legName	enum string	Leg identification in case of BO
ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
trailingJump	float	Price Jump by which Stop Loss should be trailed
exchangeOrderId	string	Exchange generated ID for the order
createTime	string	Time at which the order is created
updateTime	string	Last updated time of the order
exchangeTime	string	Time at which order was sent to the exchange
omsErrorDescription	string	Description of error in case the order is rejected or failed
remainingQuantity	integer	Quantity pending at the exchange to be traded (quantity - filledQty)
averageTradedPrice	integer	Average price at which order is traded
filledQty	integer	Quantity of order traded on Exchange
triggeredQuantity	integer	Quantity of Stop Loss or Target legs which has been placed on Exchange
legDetails	[]array	Array of Leg Details
Note
There are two order status updates that needs to be considered. CLOSED is used when the ENTRY_LEG and one of either TARGET_LEG or STOP_LOSS_LEG is also triggered for entire quantity. TRIGGERED is present for TARGET_LEG and STOP_LOSS_LEG which indicates which of the two is actually triggered and then triggeredQuantity can be referred to check the placed quantity.

]. {Forever Order
Users can create and manage Forever Orders or Good Till Triggered orders using this set of APIs.


REST
POST	/forever/orders	Create Forever Order
PUT	/forever/orders/{order-id}	Modify existing Forever Order
DELETE	/forever/orders/{order-id}	Cancel existing Forever Order
GET	/forever/orders	Retrieve an array of all existing forever orders

Order Placement, Modification and Cancellation APIs requires Static IP whitelisting - here
Create Forever Order

This API helps you create a new Forever Order.


cURL

    curl --request POST \
    --url https://api.dhan.co/v2/forever/orders \
    --header 'Accept: application/json' \
    --header 'Content-Type: application/json' \
    --header 'access-token: ' \
    --data '{Request JSON}'


Request structure


cURL

{
    "dhanClientId": "1000000132",
    "correlationId": "",
    "orderFlag": "OCO",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "CNC",
    "orderType": "LIMIT"
    "validity": "DAY",
    "securityId": "1333",
    "quantity": 5,
    "disclosedQuantity": 1,
    "price": 1428,
    "triggerPrice": 1427,
    "price1": 1420,
    "triggerPrice1": 1419,
    "quantity1": 10
}



Parameters


cURL
Field	Type	Description
dhanClientId
required	string	User specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
orderFlag
required	string	Order Flag OCO for OCO order and SINGLE for Forever Order
SINGLE OCO
transactionType
required	string	The trading side of transaction
BUY  SELL
exchangeSegment
required	string	Exchange & Segment
NSE_EQ  NSE_FNO   BSE_EQ  NSE_FNO 
productType
required	string	Product type
CNC  MTF 
orderType
required	enum string	Order Type
LIMIT  MARKET 
validity
required	string	Validity of Order for execution
DAY IOC
securityId
required	string	Exchange standard ID for each scrip. Refer here
quantity
required	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible (Keep more than 30% of quantity)
price
required	float	Price at which order is placed
triggerPrice
required	float	Price at which order is to be triggered
price1
conditionally required	float	Target price for OCO order
triggerPrice1
conditionally required	float	Target trigger price For OCO order
quantity1
conditionally required	integer	Target Quantity for OCO order

Response Structure


{
    "orderId": "5132208051112",
    "orderStatus": "PENDING"
}

Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	string	Order Status
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED CONFIRM
Modify Forever Order

Users can take use of this API to make changes to already created forever orders. The variables that can be modified are price, quantity, order type, disclosed quantity, trigger price & validity.


cURL

curl --request PUT \
--url https://api.dhan.co/v2/forever/orders/{order-id} \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--header 'access-token: adad' \
--data '{Request JSON}'


Requested Structure


cURL

{
    "dhanClientId": "1000000132",
    "orderId": "5132208051112",
    "orderFlag": "SINGLE",
    "orderType": "LIMIT",
    "legName": "TARGET_LEG",
    "quantity": 15,
    "price": 1421,
    "disclosedQuantity":1,
    "triggerPrice": 1420,
    "validity": "DAY"
}

Parameters


cURL
Field	Type	Description
dhanClientId
required	string	User specific identification generated by Dhan
orderId
required	enum string	Order specific identification generated by Dhan
orderFlag
required	string	Order Flag OCO for OCO order and SINGLE for Forever Order
SINGLE OCO
orderType
required	enum string	Order Type
LIMIT MARKET STOP_LOSS STOP_LOSS_MARKET
legName
required	string	Order leg of Forever Order where modification is to be done
TARGET_LEG - For Single and First leg of OCO
STOP_LOSS_LEG - For Second leg of OCO
quantity
required	int	Number of shares for the order
price
required	float	Price at which order is placed
disclosedQuantity	int	Number of shares visible (Keep more than 30% of quantity)
triggerPrice
required	float	Price at which order is to be triggered
validity
required	string	Validity of Order for execution
DAY IOC

Response Structure


{
    "orderId": "5132208051112",
    "orderStatus": "PENDING"
}


Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED CONFIRM
Delete Forever Order

This API lets you delete pending Forever Order using the Order ID.


cURL

curl --request DELETE \
--url https://api.dhan.co/v2/forever/orders/{order-id} \
--header 'Accept: application/json' \
--header 'access-token: {JWT}'


Request Structure

No Body


Response Structure


{
    "orderId": "5132208051112",
    "orderStatus": "CANCELLED"
}


Parameters

Field	Type	Description
orderId	string	Order specific identification generated by Dhan
orderStatus	string	Order Status
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED CONFIRM
All Forever Order Detail

Users can retrieve an array of all existing Forever Orders in their account using this API.


cURL

curl --request GET \
--url https://api.dhan.co/v2/forever/all \
--header 'Accept: application/json' \
--header 'access-token: {JWT}' \


Request Structure

No Body


Response Structure


[
    {
        "dhanClientId": "1000000132",
        "orderId": "1132208051115",
        "orderStatus": "CONFIRM",
        "transactionType": "BUY",
        "exchangeSegment": "NSE_EQ",
        "productType": "CNC",
        "orderType": "SINGLE",
        "tradingSymbol": "HDFCBANK",
        "securityId": "1333",
        "quantity": 10,
        "price": 1428,
        "triggerPrice": 1427,
        "legName": "ENTRY_LEG",
        "createTime": "2022-08-05 12:41:19",
        "updateTime": null,
        "exchangeTime": null,
        "drvExpiryDate": null,
        "drvOptionType": null,
        "drvStrikePrice": 0
    }
]


Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED CONFIRM
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange & Segment
NSE_EQ  NSE_FNO   BSE_EQ  MCX_COMM
productType	enum string	Product type of trade
CNC  INTRADAY  MARGIN  CO BO
orderType	enum string	Order Type
SINGLE OCO
tradingSymbol	string	Symbol of the instrument in which forever order is placed
securityId	string	Exchange standard ID for each scrip. Refer here
quantity	int	Number of shares for the order
price	float	Price at which order is placed
triggerPrice	float	Price at which order is to be triggered
legName	string	Order leg of Forever Order
TARGET_LEG - For Single and First leg of OCO
STOP_LOSS_LEG - For Second leg of OCO
createTime	string	Time at which the Forever Order is created
updateTime	string	Time at which the Forever Order is updated
exchangeTime	string	Time at which order reached at exchange end
drvExpiryDate	string	Contract Expiry Date for Derivative contract
drvOptionType	enum string	Type of Option
CALL  PUT 
drvStrikePrice	float	Strike Price in case of Option Contract}.  {Portfolio
This API lets you retrieve holdings and positions in your portfolio.

GET	/holdings	Retrieve list of holdings in demat account
GET	/positions	Retrieve open positions
POST	/positions/convert	Convert intraday position to delivery or delivery to intraday
Holdings

Users can retrieve all holdings bought/sold in previous trading sessions. All T1 and delivered quantities can be fetched.


    curl --request GET \
    --url https://api.dhan.co/v2/holdings \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


[
    {
    "exchange": "ALL",
    "tradingSymbol": "HDFC",
    "securityId": "1330",
    "isin": "INE001A01036",
    "totalQty": 1000,
    "dpQty": 1000,
    "t1Qty": 0,
    "availableQty": 1000,
    "collateralQty": 0,
    "avgCostPrice": 2655.0
    } 
]

Parameters

Field	Type	Description
exchange	enum string	Exchange
tradingSymbol	string	Refer Trading Symbol at Page No
securityId	string	Exchange standard ID for each scrip. Refer here
isin	string	Universal standard ID for each scrip
totalQty	int	Total quantity
dpQty	int	Quantity delivered in demat account
t1Qty	int	Quantity pending delivered in demat account
availableQty	int	Quantity available for transaction
collateralQty	int	Quantity placed as collateral with broker
avgCostPrice	float	Average Buy Price of total quantity
Positions

Users can retrieve a list of all open positions for the day. This includes all F&O carryforward positions as well.


    curl --request GET \
    --url https://api.dhan.co/v2/positions \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


[
    {
    "dhanClientId": "1000000009",    
    "tradingSymbol": "TCS",
    "securityId": "11536",
    "positionType": "LONG",
    "exchangeSegment": "NSE_EQ", 
    "productType": "CNC",
    "buyAvg": 3345.8,
    "buyQty": 40,
    "costPrice": 3215.0,
    "sellAvg": 0.0,
    "sellQty": 0,
    "netQty": 40,
    "realizedProfit": 0.0,
    "unrealizedProfit": 6122.0,
    "rbiReferenceRate": 1.0,
    "multiplier": 1,
    "carryForwardBuyQty": 0,
    "carryForwardSellQty": 0,
    "carryForwardBuyValue": 0.0,
    "carryForwardSellValue": 0.0,
    "dayBuyQty": 40,
    "daySellQty": 0,
    "dayBuyValue": 133832.0,
    "daySellValue": 0.0,
    "drvExpiryDate": "0001-01-01",
    "drvOptionType": null,
    "drvStrikePrice": 0.0.
    "crossCurrency": false
    } 
]

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard id for each scrip. Refer here
positionType	enum string	Position Type
LONG SHORT CLOSED
exchangeSegment	enum string	Exchange & Segment
NSE_EQ NSE_FNO NSE_CURRENCY BSE_EQ BSE_FNO BSE_CURRENCY MCX_COMM
productType	enum string	Product type
CNC  INTRADAY MARGIN MTF  CO BO
buyAvg	float	Average buy price mark to market
buyQty	int	Total quantity bought
costPrice	int	Actual Cost Price
sellAvg	float	Average sell price mark to market
sellQty	int	Total quantities sold
netQty	int	buyQty - sellQty = netQty
realizedProfit	float	Profit or loss booked
unrealizedProfit	float	Profit or loss standing for open position
rbiReferenceRate	float	RBI mandated reference rate for forex
multiplier	int	Multiplying factor for currency F&O
carryForwardBuyQty	int	Carry forward F&O long quantities
carryForwardSellQty	int	Carry forward F&O short quantities
carryForwardBuyValue	float	Carry forward F&O long value
carryForwardSellValue	float	Carry forward F&O short value
dayBuyQty	int	Quantities bought today
daySellQty	int	Quantities sold today
dayBuyValue	float	Value of quantities bought today
daySellValue	float	Value of quantities sold today
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
crossCurrency	boolean	Check for non INR currency pair
Convert Position

Users can convert their open position from intraday to delivery or delivery to intraday.


curl --request POST \
--url https://api.dhan.co/v2/positions/convert \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--header 'access-token: JWT' \
--data '{}'

Request Structure


{
    "dhanClientId": "1000000009",
    "fromProductType":"INTRADAY",  
    "exchangeSegment":"NSE_EQ",
    "positionType":"LONG",
    "securityId":"11536",  
    "tradingSymbol":"",
    "convertQty":"40",
    "toProductType":"CNC"
}

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
fromProductType	enum string	Refer Trading Symbol in Tables
CNC INTRADAY MARGIN CO BO
exchangeSegment	enum string	Exchange & segment in which position is created - here
positionType	enum string	Position Type
LONG SHORT CLOSED
securityId	string	Exchange standard id for each scrip. Refer here
tradingSymbol	string	Refer Trading Symbol in Tables
convertQty	int	No of shares modification is desired
toProductType	enum string	Desired product type
CNC  INTRADAY MARGIN CO BO

Response Structure


202 Accepted

Note: For description of enum values, refer Annexure
Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
DhanHQ Chatbot
Power by

Show me how to place a buy order
How to get market data using Python?
How do i handle errors in Dhan APIs?
What are the authentication requirements?
Today
HQ Bot
Hi! I'm your assistant. How can I help you today?
04:25 PM

Need Help?}. {EDIS
To sell holding stocks, one needs to complete the CDSL eDIS flow, generate T-PIN & mark stock to complete the sell action.

GET	/edis/tpin	Generate T-PIN
POST	/edis/from	Retrieve escaped html form & enter T-PIN
GET	/edis/inquire/{isin}	Inquire the status of stock for edis approval.
Generate T-PIN

Get T-Pin on your registered mobile number using this API.


    curl --request GET \
    --url https://api.dhan.co/v2/edis/tpin \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'

Request Structure

No Body


Response Structure


202 Accepted
Generate eDIS Form

Retrieve escaped html form of CDSL and enter T-PIN to mark the stock for EDIS approval. User has to render this form at their end to unescape. You can get ISIN of portfolio stocks, in response of holdings API.


    curl --request POST \
    --url https://api.dhan.co/v2/edis/form \
    --header 'Content-Type: application/json' \
    --header 'access-token: ' \
    --data '{}'

Request Structure


    {
        "isin": "INE733E01010",  
        "qty": 1,
        "exchange": "NSE",
        "segment": "EQ",
        "bulk": true
    }

Parameters

Field	Field Type	Description
isin	string	International Securities Identification Number
qty	int	Number of shares to mark for edis transaction
exchange	string	Exhange NSE BSE
segment	string	Segment EQ
bulk	boolean	To mark edis for all stocks in portfolio

Response Structure


{
    "dhanClientId": "1000000401",
    "edisFormHtml": "<!DOCTYPE html> <html>     <script>window.onload= function()
        {submit()};function submit(){ document.getElementById(\"submitbtn\").click();    }
        </script><body onload=\"submit()\">     <form name=\"frmDIS\" method=\"post\" 
        action=\"https://edis.cdslindia.com/eDIS/VerifyDIS/\" style=\"                
        text-align: center; margin-top: 35px; /* margin-bottom: 15px; */ \">             
        <input type= \"hidden\" name= \"DPId\" value= \"83400\" >  
        <input type= \"hidden\" name= \"ReqId\" value= \"291951000000401\" >             
        <input type= \"hidden\" name= \"Version\" value= \"1.1\" >             
        <input type= \"hidden\" name= \"TransDtls\" value= \"kQBOKYtPSbWmbLYOih9ZXaLZuA3Ig5ycFPangwWZKTPgmIqdfXL58qN3tGfDlVH+S613mfqTkIWVkQTiMrqUHkzvTRxkr7NtJtP7O3Z7+Xro9Fs5svt2tQDrNJGSd1oEqc4dhoc+FCS8u9ZhNCFqkZ30djjKqjTp1j12fv4cZVwzupyLfVVyh0U8TwwqSAEP4mdq3uiimxADlrHVRrn5NSL+ndUn5BhplI7F9Ksiscj9hxz6iK2Os8m5JMFBU7bmNmIWWHEgTLOz0N+roldjRs2M8mVXSx+M+41jrdSWaCnMxvm+L2HNbsT94Zv8wEWmxSCcSDcvVFhbpcWP5RVQMHQpV6cw6+s7qfn1AWexGiUJk3APPnhYdXPjwIewhyL5rEhNRnCy+cZaJSzsBpatfOJO3xjrZd6zDv6raf/4EUwHJ8yOVYjG5L4uAjnsfBy0SCuqYnxmMphI8/mnJlopH71Kvi9IkH/wPBiKvOkNYpJD3+CFXE6No3RrRiC8DF1pkSaMm7IxdHr0ui2QBmyqcg==\" >  
        <input style=\"display: none;\" id=\"submitbtn\" type= \"submit\" value=\"Submit\">     
        </form> </body> </html>"
}

Parameters

Field	Field type	Description
dhanClientId	string	User specific identification generated by Dhan
edisFormHtml	string	Escaped HTML Form
EDIS Status & Inquiry

You can check the status of stock whether it is approved and marked for sell action. User have to enter ISIN of the stock. An International Securities Identification Number (ISIN) is a 12-digit alphanumeric code that uniquely identifies a specific security. You can get ISIN of portfolio stocks, in response of holdings API.

Alternatively, you can pass "ALL" instead of ISIN to get eDIS status of all holdings in your portfolio.


cURL
Python

dhan.edis_inquiry(isin)


Request Structure

No Body


Response Structure


{
    "clientId": "1000000401",
    "isin": "INE00IN01015",
    "totalQty": 10,
    "aprvdQty": 4,
    "status": "SUCCESS",
    "remarks": "eDIS transaction done successfully"
}

Parameters

Field	Field type	Description
clientId	string	User specific identification
isin	string	International Securities Identification Number
totalQty	string	Total number of shares for given stock
aprvdQty	string	Number of approved stocks
status	string	Status of the edis order
remark	string	remarks of the order status

Note: For description of enum values, refer Annexure

Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
DhanHQ Chatbot
Power by

Show me how to place a buy order
How to get market data using Python?
How do i handle errors in Dhan APIs?
What are the authentication requirements?
Today
HQ Bot
Hi! I'm your assistant. How can I help you today?
04:25 PM

Need Help?}. {Trader's Control
Kill Switch

This API lets you activate the kill switch for your account, which will disable trading for current trading day. You can pass header parameter as ACTIVATE or DEACTIVATE to manage Kill Switch settings.

Note
You need to ensure that all your positions are closed and there are no pending orders in your account to be able to activate Kill Switch.


curl --request POST \
--url 'https://api.dhan.co/v2/killswitch?killSwitchStatus=ACTIVATE' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--header 'access-token: JWT'

Request Structure

No Body


Response Structure


{
    "dhanClientId":"1000000009",
    "killSwitchStatus": "Kill Switch has been successfully activated"
}


Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
killSwitchStatus	string	Status of Kill Switch - activated or not

Note: For description of enum values, refer Annexure
Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
DhanHQ Chatbot
Power by

Show me how to place a buy order
How to get market data using Python?
How do i handle errors in Dhan APIs?
What are the authentication requirements?
Today
HQ Bot
Hi! I'm your assistant. How can I help you today?
04:25 PM

Need Help?}. {Funds
Users can get details about the fund requirements or available funds (with margin requirements) in their Trading Account.

POST	/margincalculator	Margin requirement for any order
GET	/fundlimit	Retrieve trading account fund information
Margin Calculator

Fetch span, exposure, var, brokerage, leverage, available margin values for any type of order and instrument that you want to place.


    curl --request POST \
    --url https://api.dhan.co/v2/margincalculator \
    --header 'Accept: application/json' \
    --header 'Content-Type: application/json' \
    --header 'access-token: ' \
    --data '{Request JSON}'
Request Structure


cURL

{
    "dhanClientId": "1000000132",
    "exchangeSegment": "NSE_EQ",
    "transactionType": "BUY",
    "quantity": 5,
    "productType": "CNC",
    "securityId": "1333",
    "price": 1428,
    "triggerPrice": 1427,
}


Parameters

Field	Type	Description
dhanClientId
required	string	User specific identification generated by Dhan
exchangeSegment
required	enum string	Exchange & Segment
NSE_EQ NSE_FNO  BSE_EQ BSE_FNO  MCX_COMM
transactionType
required	enum string	The trading side of transaction
BUY  SELL
quantity
required	int	Number of shares for the order
productType
required	enum string	Product type
CNC  INTRADAY MARGIN MTF  CO BO
securityId
required	string	Exchange standard id for each scrip. Refer here
price
required	float	Price at which order is placed
triggerPrice
conditionally required	float	Price at which the order is triggered, in case of SL-M & SL-L
Response Structure


{
    "totalMargin": 2800.00,
    "spanMargin": 1200.00,
    "exposureMargin": 1003.00,
    "availableBalance": 10500.00,
    "variableMargin": 1000.00,
    "insufficientBalance": 0.00,
    "brokerage": 20.00,
    "leverage": "4.00"
}
Parameters

Field	Type	Description
totalMargin	float	Total Margin required for placing the order successfully
spanMargin	float	SPAN margin required
exposureMargin	float	Exposure margin required
availableBalance	float	Available amount in trading account
variableMargin	float	VAR or Variable margin required
insufficientBalance	float	Insufficient amount in trading account (Available Balance - Total Margin)
brokerage	float	Brokerage charges for executing order
leverage	string	Margin leverage provided for the order as per product type
Fund Limit

Get all information of your trading account like balance, margin utilised, collateral, etc.


    curl --request GET \
    --url https://api.dhan.co/v2/fundlimit \
    --header 'Content-Type: application/json' \
    --header 'access-token: JWT'
Request Structure

No Body

Response Structure


{
    "dhanClientId":"1000000009",
    "availabelBalance": 98440.0,
    "sodLimit": 113642,
    "collateralAmount": 0.0,
    "receiveableAmount": 0.0,
    "utilizedAmount": 15202.0,
    "blockedPayoutAmount": 0.0,
    "withdrawableBalance": 98310.0
}
Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
availabelBalance	float	Available amount to trade
sodLimit	float	Start of the day balance in account
collateralAmount	float	Amount received against collateral
receiveableAmount	float	Amount available against selling deliveries
utilizedAmount	float	Amount utilised in the day
blockedPayoutAmount	float	Amount blocked against payout request
withdrawableBalance	float	Amount available to withdraw in bank account

Note: For description of enum values, refer Annexure
Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
DhanHQ Chatbot
Power by

Show me how to place a buy order
How to get market data using Python?
How do i handle errors in Dhan APIs?
What are the authentication requirements?
Today
HQ Bot
Hi! I'm your assistant. How can I help you today?
04:25 PM

Need Help?}. {Statement
This set of APIs retreives all your trade and ledger details to help you summarise and analyse your trades.

GET	/ledger	Retrieve Trading Account debit and credit details
GET	/trades/	Retrieve historical trade data
Ledger Report

Users can retrieve Trading Account Ledger Report with all Credit and Debit transaction details for a particular time interval. For this, you need to pass start date and end date as query parameters to define time interval of Ledger Report.


curl --request GET \
--url 'https://api.dhan.co/v2/ledger?from-date={YYYY-MM-DD}&to-date={YYYY-MM-DD}' \
--header 'Accept: application/json' \
--header 'access-token: {JWT}'

Query Parameters

Field	Description
from-date
required	Date from which Ledger Report is required in format YYYY-MM-DD
to-date
required	Date upto which Ledger Report is required in format YYYY-MM-DD
Request Structure

No Body


Response Structure


{
    "dhanClientId": "1000000001",
    "narration": "FUNDS WITHDRAWAL",
    "voucherdate": "Jun 22, 2022",
    "exchange": "NSE-CAPITAL",
    "voucherdesc": "PAYBNK",
    "vouchernumber": "202200036701",
    "debit": "20000.00",
    "credit": "0.00",
    "runbal": "957.29"
}

Parameters

Field	Type	Description
dhanClientId
string	User specific identification generated by Dhan
narration	string	Description of the ledger transaction
voucherdate	string	Transaction Date
exchange	string	Exchange information for the transaction
voucherdesc	string	Nature of transaction
vouchernumber	string	System generated transaction number
debit	string	Debit amount (only when credit returns 0)
credit	string	Credit amount (only when debit returns 0)
runbal	string	Running Balance post transaction
Trade History

Users can retrieve their detailed trade history for all orders for a particular time frame. User needs to add header parameters along with page number as the response is paginated.


curl --request GET \
--url https://api.dhan.co/v2/trades/{from-date}/{to-date}/{page} \
--header 'Accept: application/json' \
--header 'access-token: {JWT}'

Path Parameters

Field	Description
from-date
required	Date from which Trade History is required in format YYYY-MM-DD
to-date
required	Date upto which Trade History is required in format YYYY-MM-DD
page
required	Page number of which data is being fetched. Pass 0 as default.

Request Structure

No Body


Response Structure


[
    {
    "dhanClientId": "1000000001",
    "orderId": "212212307731",
    "exchangeOrderId": "76036896",
    "exchangeTradeId": "407958",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "CNC",
    "orderType": "MARKET",
    "tradingSymbol": null,
    "customSymbol": "Tata Motors",
    "securityId": "3456",
    "tradedQuantity": 1,
    "tradedPrice": 390.9,
    "isin": "INE155A01022",
    "instrument": "EQUITY",
    "sebiTax": 0.0004,
    "stt": 0,
    "brokerageCharges": 0,
    "serviceTax": 0.0025,
    "exchangeTransactionCharges": 0.0135,
    "stampDuty": 0,
    "createTime": "NA",
    "updateTime": "NA",
    "exchangeTime": "2022-12-30 10:00:46",
    "drvExpiryDate": "NA",
    "drvOptionType": "NA",
    "drvStrikePrice": 0
    } 
]

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
exchangeOrderId	string	Order specific identification generated by exchange
exchangeTradeId	string	Trade specific identification generated by exchange
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange Segment of instrument to be subscribed as found in Annexure
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT MARKET STOP_LOSS STOP_LOSS_MARKET
tradingSymbol	string	Symbol in which order was placed - Refer here
customSymbol	string	Trading Symbol as per Dhan
securityId	string	Exchange standard ID for each scrip. Refer here
tradedQuantity	int	Number of shares executed
tradedPrice	float	Price at which trade is executed
isin	string	Universal standard ID for each scrip
instrument	string	Type of Instrument
EQUITY DERIVATIVES
sebiTax	string	SEBI Turnover Charges
stt	string	Securities Transactions Tax
brokerageCharges	string	Brokerage charges by Dhan, refer pricing here
serviceTax	string	Applicable Service Tax
exchangeTransactionCharges	string	Exchange Transaction Charge
stampDuty	string	Stamp Duty Charges
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	int	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price

Note: For description of enum values, refer Annexure
Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
DhanHQ Chatbot
Power by

Show me how to place a buy order
How to get market data using Python?
How do i handle errors in Dhan APIs?
What are the authentication requirements?
Today
HQ Bot
Hi! I'm your assistant. How can I help you today?
04:25 PM

Need Help?}.  {Postback
Postback API or Webhooks uses a POST request with JSON payload to the Postback URL. This JSON payload contains order update in case of change in status (TRANSIT, PENDING, REJECTED, CANCELLED, TRADED or EXPIRED) or whenever order is modified or partially filled.

This Postback API is on access token level i.e. all trades originating from one particular access token will be sent to that particular Webhook URL. This makes it optimal for individual developers.

Postback Payload

The JSON payload is sent as a raw HTTP POST body in below structure.

Structure


{
    "dhanClientId": "1000000003",
    "orderId": "112111182198",
    "correlationId":"123abc678",
    "orderStatus": "PENDING",
    "transactionType": "BUY",
    "exchangeSegment": "NSE_EQ",
    "productType": "INTRADAY",
    "orderType": "MARKET",
    "validity": "DAY",
    "tradingSymbol": "",
    "securityId": "11536",
    "quantity": 5,
    "disclosedQuantity": 0,
    "price": 0.0,
    "triggerPrice": 0.0,
    "afterMarketOrder": false,
    "boProfitValue": 0.0,
    "boStopLossValue": 0.0,
    "legName": ,
    "createTime": "2021-11-24 13:33:03",
    "updateTime": "2021-11-24 13:33:03",
    "exchangeTime": "2021-11-24 13:33:03",
    "drvExpiryDate": null,
    "drvOptionType": null,
    "drvStrikePrice": 0.0,
    "omsErrorCode": null,
    "omsErrorDescription": null,
    "filled_qty": 1,
    "algoId": null
}

Parameters

Field	Type	Description
dhanClientId	string	User specific identification generated by Dhan
orderId	string	Order specific identification generated by Dhan
correlationId	string	The user/partner generated id for tracking back
orderStatus	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED
transactionType	enum string	The trading side of transaction
BUY SELL
exchangeSegment	enum string	Exchange & Segment
NSE_EQ  NSE_FNO   NSE_CURRENCY  BSE_EQ  MCX_COMM
productType	enum string	Product type of trade
CNC  INTRADAY MARGIN MTF  CO BO
orderType	enum string	Order Type
LIMIT MARKET STOP_LOSS STOP_LOSS_MARKET
validity	enum string	Validity of Order
DAY IOC
tradingSymbol	string	Refer Trading Symbol in Tables
securityId	string	Exchange standard id for each scrip. Refer here
quantity	int	Number of shares for the order
disclosedQuantity	int	Number of shares visible
price	float	Price at which order is placed
triggerPrice	float	Price at which order is triggered, for SL-M, SL-L, CO & BO
afterMarketOrder	boolean	The order placed is AMO ?
boProfitValue	float	Bracket Order Target Price change
boStopLossValue	float	Bracket Order Stop Loss Price change
legName	enum string	Leg identification in case of BO
ENTRY_LEG TARGET_LEG STOP_LOSS_LEG
createTime	string	Time at which the order is created
updateTime	string	Time at which the last activity happened
exchangeTime	string	Time at which order reached at exchange
drvExpiryDate	string	For F&O, expiry date of contract
drvOptionType	enum string	Type of Option
CALL PUT
drvStrikePrice	float	For Options, Strike Price
omserroeCode	string	Error code in case the order is rejected or failed
omsErrorDescription	string	Description of error in case the order is rejected or failed
filled_qty	int	Quantity which has already been traded
algoId	string	Algo ID registered with the Exchange, in case of registered algos
Setting up Postback

To set up Postback API, you will need to provide a unique Postback URL to receive callbacks. You will need to follow the steps below to set up Postback URL:

While generating access token on web.dhan.co, enter your URL in the 'Postback URL' field.
Click on 'Generate' to successfully set Postback and generate a new token.

Important: You will not receive postback calls if Postback URL is set to localhost or 127.0.0.1.

}.  {Live Order Update
Realtime order updates of all your orders can be received directly via WebSocket in your system. Once you connect to the WebSocket and authorise, all order updates in your acount will get reflected real time via the stream.

With this update stream, you can know about status, traded price, quantity and other details about your orders.

The messages sent over this WebSocket will be JSON.

Establishing Connection

To establish connection with DhanHQ Live Order Update, you can connect to the below endpoint using WebSocket library.


wss://api-order-update.dhan.co
While establishing connection, you need to send Authorisation Message for connection.

For Individual
You can receive order updates for all orders placed via your account, irrespective of the platform via which it was placed.


Authorisation message structure


{
    "LoginReq":{
        "MsgCode": 42,
        "ClientId":"1000000001",
        "Token":"JWT"
    },
    "UserType: "SELF"
}


Parameters

Field	Type	Description
LoginReq
required	{}, string	JSON for adding Client ID and Access Token
MsgCode
required	int	Message Code for getting Order Updates
42 by default
ClientId
required	string	User specific identification generated by Dhan
Token
required	string	Access Token generated for user
UserType
required	string	SELF for individual users
For Partners
Platforms can receive order updates originating for all users connected to their platform/app for which Partner Login module needs to be used.


Authorisation message structure


{
    "LoginReq":{
        "MsgCode": 42,
        "ClientId": "partner_id"
    },
    "UserType: "PARTNER",
    "Secret": "partner_secret"
}


Parameters

Field	Type	Description
LoginReq
required	{}, string	JSON for adding Client ID and Access Token
MsgCode
required	int	Message Code for getting Order Updates
42 by default
ClientId
required	string	partner_id generated for the partner
UserType
required	string	PARTNER for partner platforms
Secret
required	string	partner_secret generated for the partner
Order Update

Order Update messages are sent via WebSocket in below structure.


Structure


{
    "Data": {
        "series": "EQ",
        "goodTillDaysDate": "2024-09-11",
        "instrumentType": "EQ",
        "refLtp": 13.21,
        "tickSize": 0.01,
        "algoId": "0",
        "multiplier": 1
        "Exchange": "NSE",
        "Segment": "E",
        "Source": "N",
        "SecurityId": "14366",
        "ClientId": "1000000001",
        "ExchOrderNo": "1400000000404591",
        "OrderNo": "1124091136546",
        "Product": "C",
        "TxnType": "B",
        "OrderType": "LMT",
        "Validity": "DAY",
        "DiscQuantity": 1,
        "DiscQtyRem": 1,
        "RemainingQuantity": 1,
        "Quantity": 1,
        "TradedQty": 0,
        "Price": 13,
        "TriggerPrice": 0,
        "TradedPrice": 0,
        "AvgTradedPrice": 0,
        "AlgoOrdNo": ,
        "OffMktFlag": "0",
        "OrderDateTime": "2024-09-11 14:39:29",
        "ExchOrderTime": "2024-09-11 14:39:29",
        "LastUpdatedTime": "2024-09-11 14:39:29",
        "Remarks": "NR",
        "MktType": "NL",
        "ReasonDescription": "CONFIRMED",
        "LegNo": 1,
        "Instrument": "EQUITY",
        "Symbol": "IDEA",
        "ProductName": "CNC",
        "Status": "Cancelled",
        "LotSize": 1,
        "StrikePrice": ,
        "ExpiryDate": "0001-01-01 00:00:00",
        "OptType": "XX",
        "DisplayName": "Vodafone Idea",
        "Isin": "INE669E01016",
        "Series": "EQ",
        "GoodTillDaysDate": "2024-09-11",
        "RefLtp": 13.21,
        "TickSize": 0.01,
        "AlgoId": "0",
        "Multiplier": 1,
        "CorrelationId": "",
        "Remarks": "Super Order"
    },
    "Type": "order_alert"
}

Parameters

Field	Type	Description
Exchange	string	Exchange in which order is placed
Segment	string	Segment for which order is placed
Source	string	Platform via which order is placed - P for API Orders
SecurityId	string	Exchange standard ID for each scrip. Refer here
ClientId	string	User specific identification generated by Dhan
ExchOrderNo	string	Order specific identification generated by Exchange
OrderNo	string	Order specific identification generated by Dhan
Product	enum string	Product type of trade
C  for CNC, I  for INTRADAY, M  for MARGIN, F for MTF  , V for CO,  B for BO
TxnType	enum string	The trading side of transaction
B for Buy
S for Sell
OrderType	enum string	Order Type
LMT for Limit
MKT for Market
SL for Stop Loss
SLM for Stop Loss
Validity	enum string	Validity of Order
DAY IOC
DiscQuantity	int	Number of shares visible
DiscQtyRem	int	Disclosed quantity pending for execution
RemainingQuantity	int	Quantity pending for execution
Quantity	int	Total order quantity placed
TradedQty	int	Actual quantity executed on exchange
Price	float	Price at which order is placed
TriggerPrice	float	Price at which order is triggered, for SL-M, SL-L, CO & BO
TradedPrice	float	Price at which trade of an order is executed
AvgTradedPrice	float	Average trade price of an order (this will be different from `Traded Price` in case of partial execution)
AlgoOrdNo	float	Entry leg order number to track Target and Stop Loss leg (in case of BO and CO)
OffMktFlag	string	`1` in case of AMO order else `0`
OrderDateTime	string	Time at which the order is received by Dhan
ExchOrderTime	string	Time at which order is placed on Exchange
LastUpdatedTime	string	Last update time of any order modification or trade
Remarks	string	Additional remarks sent along while placing order
MktType	string	NL for Normal Market
AU, A1 and A2for Auction Market
ReasonDescription	string	Order rejection reason
LegNo	int	1 for Entry Leg
2 for Stop Loss Leg
3 for Target Leg
Instrument	string	Instrument in which order is placed - here
Symbol	string	Symbol in which order is placed - Refer here
ProductName	string	Product type of the order placed - here
Status	enum string	Last updated status of the order
TRANSIT PENDING REJECTED CANCELLED TRADED EXPIRED
LotSize	int	Lot Size in case of Derivatives
StrikePrice	float	Strike Price in which order is placed in Option contract
ExpiryDate	string	Expiry Date of the contract in which order is placed
OptType	string	`CE` or `PE` in case of Option contract
DisplayName	string	Name of instrument in which order is placed - Refer here
Isin	string	ISIN of the instrument in which order is placed
Series	string	Exchange series of the instrument
GoodTillDaysDate	string	Order validity in case of Forever Order
RefLtp	float	LTP at time of order update
TickSize	float	Tick size of the instrument
AlgoId	string	Exchange ID for special order types
Multiplier	int	In case of commodity and currency contracts
CorrelationId	string	The user/partner generated id for tracking back
Remarks	string	`Super Order` if the order is part of super order
Note: For description of enum values, refer Annexure
Copyright © 2024 Moneylicious Securities Private Limited
HQ Bot
}. {}